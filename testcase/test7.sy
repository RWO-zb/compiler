// test_07_scope_shadow.sy
// 目标：验证符号表在多层作用域进出时能否正确恢复变量状态

int a = 100; // 全局变量

int main() {
    int a = 10; // 局部变量遮蔽全局 a
    int res = 0;
    
    if (a == 10) {
        int a = 1; // 再次遮蔽，a = 1
        res = a;   // res = 1
        
        {
            int a = 50; // 最内层遮蔽
            res = res + a; // 1 + 50 = 51
        }
        // 退出最内层，此时 a 应该是 1
        res = res + a; // 51 + 1 = 52
    }
    
    // 退出 if，此时 a 应该是 10
    res = res + a; // 52 + 10 = 62
    
    // 验证全局变量是否受影响（如果有函数能访问全局变量最好，这里简单测试）
    return res; // 预期返回 62
}